{"version":3,"file":"static/webpack/static/development/pages/_app.js.08cb521f38f3151b3c6d.hot-update.js","sources":["webpack:///./components/Hero.js"],"sourcesContent":["import { Fragment } from \"react\";\nimport strings from \"../strings.json\";\nimport { useState, useEffect } from \"react\";\nimport NewsletterForm from \"../components/NewsletterForm\";\n\nfunction Hero(props) {\n    const [country, setCountry] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    async function handleSubmitRequest(emailAddress) {\n        const response = await fetch(\"https://api.coronaforms.org/api/v1/submit\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            mode: \"no-cors\",\n            body: JSON.stringify({\n                email: emailAddress,\n                country: country\n            })\n        });\n        if (response.status === 200) {\n            alert(strings[props.language].Common.ThankYou);\n        }\n    }\n\n    useEffect(() => {\n        async function fetchData() {\n            const response = await fetch(\"https://api.coronaforms.org/api/v1/geo\");\n            const jsonData = await response.json();\n            setCountry(jsonData.countryName);\n            setTimeout(() => {\n                setLoading(false);\n            }, 1000);\n        }\n        fetchData();\n    }, []);\n\n    return <div className=\"auto hero\">\n        {loading && <div className=\"loading\"><img width=\"50\" src=\"/puff.svg\" /></div>}\n        {!loading && country === \"Israel\" && <Fragment>\n            {props.children}\n        </Fragment>}\n        {!loading && country !== \"Israel\" && <Fragment>\n            <h1 className=\"mb-2\">{strings.english.Hero.title}</h1>\n            <h2 className=\"mb-2 text-left\">{strings.english.Hero.NoFormsFound}</h2>\n            <NewsletterForm onSubmit={handleSubmitRequest} subtitle={strings.english.Common.PrivacyPolicy} />\n        </Fragment>}\n    </div>\n}\n\nexport default Hero;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AANA;AACA;AAFA;AACA;AACA;AAUA;AACA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}