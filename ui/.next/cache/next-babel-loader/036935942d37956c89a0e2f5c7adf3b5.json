{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Fragment } from \"react\";\nimport strings from \"../strings.json\";\nimport { useState, useEffect } from \"react\";\nimport NewsletterForm from \"../components/NewsletterForm\";\n\nfunction Hero(props) {\n  const {\n    0: country,\n    1: setCountry\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n\n  async function handleSubmitRequest(emailAddress) {\n    const response = await fetch(\"https://api.coronaforms.org/api/v1/submit\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: emailAddress,\n        country: country\n      })\n    });\n\n    if (response.status === 200) {\n      alert(strings[props.language].Common.ThankYou);\n    }\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch(\"https://api.coronaforms.org/api/v1/geo\");\n      const jsonData = await response.json();\n      setCountry(jsonData.countryName);\n      setTimeout(() => {\n        setLoading(false);\n      }, 1000);\n    }\n\n    fetchData();\n  }, []);\n  return __jsx(\"div\", {\n    className: \"auto hero\"\n  }, loading && __jsx(\"div\", {\n    className: \"loading\"\n  }, __jsx(\"img\", {\n    width: \"50\",\n    src: \"/puff.svg\"\n  })), !loading && country === \"Israel\" && __jsx(Fragment, null, props.children), !loading && country !== \"Israel\" && __jsx(Fragment, null, __jsx(\"h1\", {\n    className: \"mb-2\"\n  }, strings.english.Hero.title), __jsx(\"h2\", {\n    className: \"mb-2 text-left\"\n  }, strings.english.Hero.NoFormsFound), __jsx(NewsletterForm, {\n    onSubmit: handleSubmitRequest,\n    subtitle: strings.english.Common.PrivacyPolicy\n  })));\n}\n\nexport default Hero;","map":null,"metadata":{},"sourceType":"module"}